
import os
#source files
src =  Split('src/entry src/utility src/webservicex_service  src/city_forecast')

debug = Environment(ENV = {'PATH' : os.environ['PATH']})
debug['CXX'] = 'icc'
debug['CXXFLAGS'] = '-Wall -std=c++11 -g -p -I./include -I.'
def make_objs(file_list, suffix, env) :
    return [ env.Object(file + suffix + '.o', file + '.cpp' ) for file in file_list ]

libs = Split('-lboost_date_time -lboost_regex -lboost_system -lcurl -lpthread -lrt')

d_objs = make_objs(src, '-dbg' , debug) + debug.Object('tinyxml2-dbg.o', 'tinyxml2/tinyxml2.cpp')

d_target = debug.Program('debug', d_objs, LIBS=libs)
Default(d_target)

